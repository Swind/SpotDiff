<!DOCTYPE html>
<html>
  <head>
    <title>SP2020NC_3857</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
    <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.5.0/build/ol.js" type="text/javascript"></script>
    <style>
      html, body, #map {width:100%; height:100%; margin:0; padding:0;}
      #slider{ position: absolute; top: 10px; right: 10px; }
    </style>
  </head>
  <body>
    <div id="map" class="map"></div>
    <script> 

      // change lat and long here
      // const latitude = 24.085453;
      const latitude = 24.0275228;
      // const longitude = 120.7195007;
      const longitude = 120.4316347;
      const center = ol.proj.fromLonLat([longitude, latitude]);

      const view = new ol.View({
        projection: 'EPSG:3857',
        center: center,
        minZoom: 16,
        maxZoom: 19,
        zoom: 19,
      });

      const source =  new ol.source.XYZ({
        url: 'https://data.csrsr.ncu.edu.tw/SP/SP2017NC_3857/{z}/{x}/{y}.png',
        minZoom: 16,
        maxZoom: 17,
      })

      const overlay = new ol.layer.Tile({
          source,
      });

      const iconFeature = new ol.Feature({
        geometry: new ol.geom.Point(ol.proj.fromLonLat([longitude, latitude]))
      });

      const iconURL = "http://cdn.mapmarker.io/api/v1/pin?text=P&size=50&hoffset=1"

      const iconStyle = new ol.style.Style({
        image: new ol.style.Icon(({
          anchor: [0.5, 1],
          src: iconURL,
        }))
      });

      iconFeature.setStyle(iconStyle);

      const layer = new ol.layer.Vector({
        source: new ol.source.Vector({
          features: [ iconFeature ],
        })
      });

      const map = new ol.Map({
        controls: [],
        interactions: new ol.interaction.defaults({
          // mouseWheelZoom: false,
        }),
        layers: [
          overlay,
          layer,
        ],
        renderer: 'canvas',
        target: 'map',
        view: view
      });

    </script>
  </body>
</html>
